<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ALT Intel â€“ Private Markets Intelligence</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,700;0,900;1,400&family=JetBrains+Mono:wght@300;400;500;700&family=Crimson+Pro:ital,wght@0,300;0,400;1,300&display=swap" rel="stylesheet">
<style>
:root {
  --bg: #f5f2eb;
  --bg2: #ede9df;
  --surface: #ffffff;
  --ink: #1a1612;
  --ink-mid: #4a4540;
  --ink-dim: #8a8278;
  --rule: #d8d2c4;
  --accent: #c4381a;
  --accent2: #1a4a8a;
  --gold: #b8860b;
  --pe-c: #c4381a;
  --credit-c: #1a4a8a;
  --infra-c: #2a6a3a;
  --re-c: #7a3a1a;
  --hedge-c: #4a1a7a;
  --macro-c: #1a5a6a;
}

* { margin:0; padding:0; box-sizing:border-box; }

body {
  background: var(--bg);
  color: var(--ink);
  font-family: 'Crimson Pro', Georgia, serif;
  min-height: 100vh;
  font-size: 16px;
}

/* Paper texture */
body::before {
  content: '';
  position: fixed; inset: 0;
  background-image:
    repeating-linear-gradient(0deg, transparent, transparent 28px, rgba(0,0,0,0.015) 28px, rgba(0,0,0,0.015) 29px);
  pointer-events: none;
  z-index: 0;
}

/* â”€â”€ MASTHEAD â”€â”€ */
.masthead {
  border-bottom: 3px double var(--ink);
  padding: 0 48px;
  background: var(--bg);
  position: sticky;
  top: 0;
  z-index: 200;
}

.masthead-top {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 16px 0 12px;
  border-bottom: 1px solid var(--ink);
}

.pub-name {
  font-family: 'Playfair Display', Georgia, serif;
  font-size: 36px;
  font-weight: 900;
  letter-spacing: -0.02em;
  line-height: 1;
  color: var(--ink);
}

.pub-name em {
  color: var(--accent);
  font-style: normal;
}

.masthead-meta {
  text-align: center;
}

.masthead-meta .edition {
  font-family: 'JetBrains Mono', monospace;
  font-size: 9px;
  text-transform: uppercase;
  letter-spacing: 0.2em;
  color: var(--ink-dim);
  display: block;
  margin-bottom: 4px;
}

.masthead-meta .date-line {
  font-family: 'Crimson Pro', serif;
  font-size: 13px;
  font-style: italic;
  color: var(--ink-mid);
}

.masthead-actions {
  display: flex;
  gap: 10px;
  align-items: center;
}

.btn-primary {
  background: var(--ink);
  color: var(--bg);
  border: none;
  font-family: 'JetBrains Mono', monospace;
  font-size: 10px;
  text-transform: uppercase;
  letter-spacing: 0.12em;
  padding: 9px 18px;
  cursor: pointer;
  transition: all 0.2s;
  display: flex;
  align-items: center;
  gap: 8px;
}

.btn-primary:hover { background: var(--accent); }
.btn-primary:disabled { opacity:0.4; pointer-events:none; }

.btn-secondary {
  background: transparent;
  color: var(--ink);
  border: 1px solid var(--rule);
  font-family: 'JetBrains Mono', monospace;
  font-size: 10px;
  text-transform: uppercase;
  letter-spacing: 0.1em;
  padding: 8px 16px;
  cursor: pointer;
  transition: all 0.2s;
  display: flex;
  align-items: center;
  gap: 8px;
}

.btn-secondary:hover { border-color: var(--ink); }

/* Filter nav */
.masthead-nav {
  display: flex;
  align-items: center;
  gap: 0;
  padding: 10px 0;
  overflow-x: auto;
}

.nav-item {
  font-family: 'JetBrains Mono', monospace;
  font-size: 10px;
  text-transform: uppercase;
  letter-spacing: 0.1em;
  padding: 5px 18px;
  border: none;
  background: transparent;
  color: var(--ink-dim);
  cursor: pointer;
  transition: all 0.15s;
  white-space: nowrap;
  border-right: 1px solid var(--rule);
  position: relative;
}

.nav-item:first-child { padding-left: 0; }
.nav-item:last-child { border-right: none; }

.nav-item:hover { color: var(--ink); }
.nav-item.active { color: var(--ink); font-weight: 700; }

.nav-item.active::after {
  content: '';
  position: absolute;
  bottom: -10px;
  left: 0; right: 0;
  height: 3px;
  background: var(--accent);
}

/* Ticker */
.ticker {
  background: var(--ink);
  color: var(--bg);
  padding: 0;
  height: 28px;
  display: flex;
  align-items: center;
  overflow: hidden;
}

.ticker-label {
  font-family: 'JetBrains Mono', monospace;
  font-size: 9px;
  text-transform: uppercase;
  letter-spacing: 0.15em;
  background: var(--accent);
  color: white;
  padding: 0 14px;
  height: 100%;
  display: flex;
  align-items: center;
  flex-shrink: 0;
  white-space: nowrap;
}

.ticker-track { overflow: hidden; flex: 1; }
.ticker-inner {
  display: flex;
  animation: ticker-scroll 60s linear infinite;
  white-space: nowrap;
}

.ticker-item {
  font-family: 'JetBrains Mono', monospace;
  font-size: 10px;
  letter-spacing: 0.04em;
  padding: 0 40px;
  color: rgba(245,242,235,0.75);
}

.ticker-item strong { color: var(--bg); font-weight: 500; }

@keyframes ticker-scroll {
  0% { transform: translateX(0); }
  100% { transform: translateX(-50%); }
}

/* â”€â”€ LAYOUT â”€â”€ */
.page {
  position: relative; z-index: 1;
  max-width: 1440px;
  margin: 0 auto;
  padding: 0 48px 60px;
  display: grid;
  grid-template-columns: 1fr 300px;
  grid-template-rows: auto 1fr;
  gap: 0 40px;
}

/* â”€â”€ HERO STORY â”€â”€ */
.hero-strip {
  grid-column: 1 / -1;
  display: grid;
  grid-template-columns: 1fr 1fr 1fr;
  gap: 0;
  border-bottom: 2px solid var(--ink);
  margin-bottom: 32px;
  padding: 28px 0;
}

.hero-story {
  padding: 0 28px;
  border-right: 1px solid var(--rule);
  cursor: pointer;
  transition: all 0.2s;
}

.hero-story:first-child { padding-left: 0; }
.hero-story:last-child { border-right: none; }
.hero-story:hover { opacity: 0.8; }

.hero-kicker {
  font-family: 'JetBrains Mono', monospace;
  font-size: 9px;
  text-transform: uppercase;
  letter-spacing: 0.18em;
  margin-bottom: 8px;
  display: flex;
  align-items: center;
  gap: 8px;
}

.hero-headline {
  font-family: 'Playfair Display', serif;
  font-size: 20px;
  font-weight: 700;
  line-height: 1.3;
  margin-bottom: 10px;
  color: var(--ink);
}

.hero-deck {
  font-family: 'Crimson Pro', serif;
  font-size: 14px;
  color: var(--ink-mid);
  line-height: 1.6;
  font-weight: 300;
}

/* â”€â”€ MAIN FEED â”€â”€ */
.feed-section { padding-top: 0; }

.section-rule {
  display: flex;
  align-items: center;
  gap: 16px;
  margin-bottom: 20px;
}

.section-rule h2 {
  font-family: 'JetBrains Mono', monospace;
  font-size: 10px;
  text-transform: uppercase;
  letter-spacing: 0.2em;
  color: var(--ink-dim);
  white-space: nowrap;
}

.rule-line {
  flex: 1;
  height: 1px;
  background: var(--rule);
}

.article {
  display: grid;
  grid-template-columns: 1fr auto;
  gap: 16px;
  padding: 20px 0;
  border-bottom: 1px solid var(--rule);
  cursor: pointer;
  transition: opacity 0.15s;
  animation: slideIn 0.3s ease forwards;
  opacity: 0;
}

@keyframes slideIn {
  from { opacity:0; transform: translateY(8px); }
  to { opacity:1; transform: translateY(0); }
}

.article:hover { opacity: 0.75; }
.article:hover .article-headline { text-decoration: underline; text-underline-offset: 3px; }
.article:last-child { border-bottom: none; }

.article-left {}

.article-kicker {
  display: flex;
  align-items: center;
  gap: 12px;
  margin-bottom: 7px;
}

.sector-pill {
  font-family: 'JetBrains Mono', monospace;
  font-size: 9px;
  text-transform: uppercase;
  letter-spacing: 0.14em;
  padding: 2px 8px;
  border-left: 3px solid currentColor;
  background: transparent;
}

.sector-pill.PE { color: var(--pe-c); background: rgba(196,56,26,0.06); }
.sector-pill.Credit { color: var(--credit-c); background: rgba(26,74,138,0.06); }
.sector-pill.Infra { color: var(--infra-c); background: rgba(42,106,58,0.06); }
.sector-pill.RE { color: var(--re-c); background: rgba(122,58,26,0.06); }
.sector-pill.Hedge { color: var(--hedge-c); background: rgba(74,26,122,0.06); }
.sector-pill.Macro { color: var(--macro-c); background: rgba(26,90,106,0.06); }

.article-source {
  font-family: 'JetBrains Mono', monospace;
  font-size: 9px;
  color: var(--ink-dim);
  text-transform: uppercase;
  letter-spacing: 0.1em;
}

.article-time {
  font-family: 'JetBrains Mono', monospace;
  font-size: 9px;
  color: var(--ink-dim);
}

.article-headline {
  font-family: 'Playfair Display', serif;
  font-size: 17px;
  font-weight: 700;
  line-height: 1.35;
  margin-bottom: 8px;
  color: var(--ink);
}

.article-body {
  font-family: 'Crimson Pro', serif;
  font-size: 15px;
  color: var(--ink-mid);
  line-height: 1.65;
  font-weight: 300;
  margin-bottom: 10px;
}

/* AI Summary */
.ai-summary-wrap {
  margin-top: 10px;
  padding: 12px 14px;
  background: rgba(26,74,138,0.04);
  border-left: 3px solid var(--accent2);
}

.ai-label {
  font-family: 'JetBrains Mono', monospace;
  font-size: 9px;
  text-transform: uppercase;
  letter-spacing: 0.15em;
  color: var(--accent2);
  margin-bottom: 6px;
  display: flex;
  align-items: center;
  gap: 6px;
}

.ai-text {
  font-family: 'Crimson Pro', serif;
  font-size: 14px;
  color: var(--ink-mid);
  line-height: 1.65;
  font-weight: 300;
  font-style: italic;
}

.typing-cursor {
  display: inline-block;
  width: 2px; height: 14px;
  background: var(--accent2);
  animation: blink 0.8s steps(1) infinite;
  vertical-align: middle;
  margin-right: 2px;
}
@keyframes blink { 50% { opacity:0; } }

.article-actions {
  display: flex;
  align-items: center;
  gap: 14px;
  margin-top: 6px;
}

.action-btn {
  font-family: 'JetBrains Mono', monospace;
  font-size: 9px;
  text-transform: uppercase;
  letter-spacing: 0.1em;
  background: transparent;
  border: 1px solid var(--rule);
  color: var(--ink-mid);
  padding: 5px 12px;
  cursor: pointer;
  transition: all 0.15s;
  display: flex; align-items: center; gap: 6px;
}

.action-btn:hover { border-color: var(--ink-mid); color: var(--ink); }
.action-btn.summarized { border-color: var(--accent2); color: var(--accent2); }
.action-btn:disabled { opacity: 0.35; pointer-events: none; }

.read-more {
  font-family: 'JetBrains Mono', monospace;
  font-size: 9px;
  text-transform: uppercase;
  letter-spacing: 0.1em;
  color: var(--ink-dim);
  text-decoration: none;
  transition: color 0.15s;
  margin-right: auto;
}
.read-more:hover { color: var(--accent); }

.paywall-badge {
  font-family: 'JetBrains Mono', monospace;
  font-size: 8px;
  text-transform: uppercase;
  letter-spacing: 0.1em;
  color: var(--ink-dim);
  border: 1px solid var(--rule);
  padding: 2px 6px;
  opacity: 0.6;
}

/* Relevance */
.rel-score {
  font-family: 'JetBrains Mono', monospace;
  font-size: 9px;
  color: var(--ink-dim);
  display: flex;
  align-items: center;
  gap: 6px;
}

.rel-dots {
  display: flex; gap: 2px;
}

.rel-dot {
  width: 5px; height: 5px; border-radius: 50%;
  background: var(--rule);
}
.rel-dot.filled { background: var(--gold); }

/* Article right col */
.article-right {
  width: 80px;
  display: flex;
  flex-direction: column;
  align-items: flex-end;
  gap: 8px;
  padding-top: 4px;
  flex-shrink: 0;
}

.big-number {
  font-family: 'Playfair Display', serif;
  font-size: 42px;
  font-weight: 900;
  line-height: 1;
  color: var(--bg2);
  letter-spacing: -0.03em;
  user-select: none;
}

/* â”€â”€ SIDEBAR â”€â”€ */
.sidebar {
  border-left: 1px solid var(--rule);
  padding-left: 28px;
  padding-top: 0;
}

.sidebar-widget {
  margin-bottom: 32px;
  padding-bottom: 28px;
  border-bottom: 1px solid var(--rule);
}

.sidebar-widget:last-child { border-bottom: none; }

.widget-head {
  font-family: 'JetBrains Mono', monospace;
  font-size: 9px;
  text-transform: uppercase;
  letter-spacing: 0.2em;
  color: var(--ink-dim);
  margin-bottom: 16px;
  padding-bottom: 10px;
  border-bottom: 2px solid var(--ink);
  display: flex;
  align-items: center;
  justify-content: space-between;
}

/* Daily Briefing widget */
.briefing-widget {
  background: var(--ink);
  color: var(--bg);
  padding: 18px;
  margin-bottom: 28px;
}

.briefing-head {
  font-family: 'JetBrains Mono', monospace;
  font-size: 9px;
  text-transform: uppercase;
  letter-spacing: 0.2em;
  color: rgba(245,242,235,0.5);
  margin-bottom: 12px;
  padding-bottom: 10px;
  border-bottom: 1px solid rgba(245,242,235,0.15);
  display: flex; align-items: center; gap: 8px;
}

.briefing-head::before {
  content: 'â˜…';
  color: var(--gold);
  font-size: 10px;
}

.briefing-body {
  font-family: 'Crimson Pro', serif;
  font-size: 14px;
  line-height: 1.7;
  color: rgba(245,242,235,0.75);
  font-weight: 300;
  min-height: 80px;
}

.briefing-body p { margin-bottom: 10px; }
.briefing-body p:last-child { margin-bottom: 0; }

.briefing-placeholder {
  font-style: italic;
  color: rgba(245,242,235,0.35);
  font-size: 13px;
}

.briefing-actions {
  display: flex;
  gap: 8px;
  margin-top: 14px;
  padding-top: 12px;
  border-top: 1px solid rgba(245,242,235,0.15);
}

.btn-briefing {
  flex: 1;
  background: var(--accent);
  color: white;
  border: none;
  font-family: 'JetBrains Mono', monospace;
  font-size: 9px;
  text-transform: uppercase;
  letter-spacing: 0.12em;
  padding: 9px 10px;
  cursor: pointer;
  transition: all 0.2s;
  display: flex; align-items: center; justify-content: center; gap: 6px;
}

.btn-briefing:hover { background: #a02e14; }
.btn-briefing:disabled { opacity:0.4; pointer-events:none; }

.btn-email {
  flex: 1;
  background: transparent;
  color: rgba(245,242,235,0.6);
  border: 1px solid rgba(245,242,235,0.2);
  font-family: 'JetBrains Mono', monospace;
  font-size: 9px;
  text-transform: uppercase;
  letter-spacing: 0.1em;
  padding: 9px 10px;
  cursor: pointer;
  transition: all 0.2s;
  display: flex; align-items: center; justify-content: center; gap: 6px;
}

.btn-email:hover { border-color: rgba(245,242,235,0.5); color: rgba(245,242,235,0.85); }
.btn-email:disabled { opacity: 0.4; pointer-events: none; }

/* Sector stats */
.sector-stat {
  display: flex;
  align-items: center;
  gap: 10px;
  margin-bottom: 10px;
  font-size: 13px;
}

.stat-name {
  font-family: 'JetBrains Mono', monospace;
  font-size: 9px;
  text-transform: uppercase;
  letter-spacing: 0.06em;
  width: 54px;
  flex-shrink: 0;
}

.stat-bar {
  flex: 1; height: 3px;
  background: var(--bg2);
}

.stat-fill {
  height: 100%;
  transition: width 0.6s ease;
}

.stat-n {
  font-family: 'JetBrains Mono', monospace;
  font-size: 10px;
  color: var(--ink-dim);
  width: 18px;
  text-align: right;
}

/* Sources */
.source-row {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 8px 0;
  border-bottom: 1px solid var(--rule);
}

.source-row:last-child { border-bottom: none; }

.source-n { font-family: 'JetBrains Mono', monospace; font-size: 11px; color: var(--ink); }
.source-label { font-family: 'JetBrains Mono', monospace; font-size: 9px; text-transform: uppercase; letter-spacing: 0.1em; color: var(--ink-mid); }
.source-status-dot { width: 6px; height: 6px; border-radius: 50%; }
.source-status-dot.on { background: var(--infra-c); }
.source-status-dot.off { background: var(--rule); }

/* Email modal */
.modal-overlay {
  position: fixed; inset: 0;
  background: rgba(26,22,18,0.75);
  z-index: 1000;
  display: flex; align-items: center; justify-content: center;
  opacity: 0; pointer-events: none;
  transition: opacity 0.2s;
}

.modal-overlay.open { opacity:1; pointer-events:all; }

.modal {
  background: var(--surface);
  border: 1px solid var(--rule);
  padding: 40px 48px;
  max-width: 620px;
  width: 90%;
  transform: translateY(20px);
  transition: transform 0.3s ease;
}

.modal-overlay.open .modal { transform: translateY(0); }

.modal-kicker {
  font-family: 'JetBrains Mono', monospace;
  font-size: 9px;
  text-transform: uppercase;
  letter-spacing: 0.2em;
  color: var(--ink-dim);
  margin-bottom: 8px;
}

.modal-title {
  font-family: 'Playfair Display', serif;
  font-size: 26px;
  font-weight: 700;
  margin-bottom: 16px;
  line-height: 1.2;
}

.modal-title em { color: var(--accent); font-style: normal; }

.modal-divider { height: 1px; background: var(--rule); margin: 20px 0; }

.email-preview {
  background: var(--bg);
  border: 1px solid var(--rule);
  padding: 24px 28px;
  margin-bottom: 20px;
}

.email-from {
  font-family: 'JetBrains Mono', monospace;
  font-size: 10px;
  color: var(--ink-dim);
  margin-bottom: 4px;
}

.email-subject {
  font-family: 'Playfair Display', serif;
  font-size: 16px;
  font-weight: 700;
  margin-bottom: 16px;
  padding-bottom: 12px;
  border-bottom: 1px solid var(--rule);
}

.email-body-preview {
  font-family: 'Crimson Pro', serif;
  font-size: 14px;
  color: var(--ink-mid);
  line-height: 1.7;
  font-weight: 300;
}

.modal-form {
  display: flex;
  gap: 10px;
  margin-bottom: 12px;
}

.modal-input {
  flex: 1;
  border: 1px solid var(--rule);
  background: var(--bg);
  font-family: 'JetBrains Mono', monospace;
  font-size: 12px;
  padding: 10px 14px;
  color: var(--ink);
  outline: none;
  transition: border-color 0.2s;
}

.modal-input:focus { border-color: var(--ink); }

.modal-time {
  font-family: 'JetBrains Mono', monospace;
  font-size: 9px;
  color: var(--ink-dim);
  margin-top: 6px;
  text-transform: uppercase;
  letter-spacing: 0.1em;
}

.modal-close {
  position: absolute;
  top: 16px; right: 20px;
  font-family: 'JetBrains Mono', monospace;
  font-size: 10px;
  background: none; border: none;
  cursor: pointer;
  color: var(--ink-dim);
  text-transform: uppercase;
  letter-spacing: 0.1em;
}

.modal { position: relative; }

.success-msg {
  display: none;
  text-align: center;
  padding: 20px;
}

.success-msg.show { display: block; }

.success-msg h3 {
  font-family: 'Playfair Display', serif;
  font-size: 22px;
  margin-bottom: 8px;
}

.success-msg p {
  font-family: 'Crimson Pro', serif;
  color: var(--ink-mid);
  font-size: 15px;
}

/* Spinning icon */
.spin { animation: spin 1.2s linear infinite; display:inline-block; }
@keyframes spin { to { transform: rotate(360deg); } }

/* Skeleton */
.skel { background: linear-gradient(90deg, var(--bg2) 25%, #e8e3d8 50%, var(--bg2) 75%); background-size: 400%; animation: shimmer 1.5s infinite; border-radius: 2px; }
@keyframes shimmer { 0% { background-position:100% 0; } 100% { background-position:-100% 0; } }

::-webkit-scrollbar { height: 3px; width: 3px; }
::-webkit-scrollbar-track { background: var(--bg); }
::-webkit-scrollbar-thumb { background: var(--rule); }

@media (max-width: 960px) {
  .page { grid-template-columns: 1fr; padding: 0 20px 40px; }
  .sidebar { border-left: none; border-top: 2px solid var(--ink); padding-left: 0; padding-top: 28px; }
  .hero-strip { grid-template-columns: 1fr; gap: 20px; }
  .hero-story { border-right: none; border-bottom: 1px solid var(--rule); padding: 0 0 20px; }
  .masthead { padding: 0 20px; }
}

</style>
</head>
<body>

<header class="masthead">
  <div class="masthead-top">
    <div class="pub-name">ALT<em>Â·</em>INTEL</div>
    <div class="masthead-meta">
      <span class="edition">Private Markets Intelligence</span>
      <span class="date-line" id="current-date">Loading...</span>
    </div>
    <div class="masthead-actions">
      <button class="btn-secondary" onclick="loadFeed()">
        <svg id="refresh-ico" width="11" height="11" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><path d="M21 12a9 9 0 11-6.219-8.56"/></svg>
        Refresh
      </button>
      <button class="btn-primary" onclick="openEmailModal()">
        âœ‰ Subscribe Daily
      </button>
    </div>
  </div>
  <nav class="masthead-nav">
    <button class="nav-item" id="btn-live" data-s="live" onclick="filter('live',this)">Live Briefing</button>
    <button class="nav-item" id="btn-all" data-s="all" onclick="filter('all',this)">All Sectors</button>
    <button class="nav-item" data-s="PE" onclick="filter('PE',this)">Private Equity</button>
    <button class="nav-item" data-s="Credit" onclick="filter('Credit',this)">Private Credit</button>
    <button class="nav-item" data-s="Infra" onclick="filter('Infra',this)">Infrastructure</button>
    <button class="nav-item" data-s="RE" onclick="filter('RE',this)">Real Estate</button>
    <button class="nav-item" data-s="Hedge" onclick="filter('Hedge',this)">Hedge Funds</button>
    <button class="nav-item" data-s="Macro" onclick="filter('Macro',this)">Macro</button>
  </nav>
</header>

<div class="ticker">
  <div class="ticker-label">BREAKING</div>
  <div class="ticker-track">
    <div class="ticker-inner" id="ticker-inner">
      <span class="ticker-item"><strong>KKR</strong> closes $20B flagship fund, surpassing $18B target</span>
      <span class="ticker-item"><strong>FED</strong> officials signal caution on rate cuts â€” PE valuations under pressure</span>
      <span class="ticker-item"><strong>BROOKFIELD</strong> acquires Australian energy assets for $4.5B</span>
      <span class="ticker-item"><strong>APOLLO</strong> raises $15B for credit strategies fund</span>
      <span class="ticker-item"><strong>BLACKSTONE</strong> reports 14% AUM growth in Q1 â€” real estate drag persists</span>
      <span class="ticker-item"><strong>PRIVATE CREDIT</strong> spreads tighten 45bps YTD as institutional demand surges</span>
      <span class="ticker-item"><strong>CARLYLE</strong> eyes â‚¬7.5B European healthcare buyout</span>
      <span class="ticker-item"><strong>MULTI-STRATEGY</strong> hedge funds post best Q1 returns since 2020</span>
      <span class="ticker-item"><strong>KKR</strong> closes $20B flagship fund, surpassing $18B target</span>
      <span class="ticker-item"><strong>FED</strong> officials signal caution on rate cuts â€” PE valuations under pressure</span>
      <span class="ticker-item"><strong>BROOKFIELD</strong> acquires Australian energy assets for $4.5B</span>
      <span class="ticker-item"><strong>APOLLO</strong> raises $15B for credit strategies fund</span>
      <span class="ticker-item"><strong>BLACKSTONE</strong> reports 14% AUM growth in Q1 â€” real estate drag persists</span>
      <span class="ticker-item"><strong>PRIVATE CREDIT</strong> spreads tighten 45bps YTD as institutional demand surges</span>
      <span class="ticker-item"><strong>CARLYLE</strong> eyes â‚¬7.5B European healthcare buyout</span>
      <span class="ticker-item"><strong>MULTI-STRATEGY</strong> hedge funds post best Q1 returns since 2020</span>
    </div>
  </div>
</div>

<div class="page">

  <div class="hero-strip" id="hero-strip">
    </div>

  <div class="feed-section">
    <div class="section-rule">
      <h2>Latest Intelligence</h2>
      <div class="rule-line"></div>
      <span style="font-family:'JetBrains Mono',monospace;font-size:9px;color:var(--ink-dim);white-space:nowrap;" id="feed-count">â€” 0 articles</span>
    </div>
    <div id="feed-container"></div>
  </div>

  <aside class="sidebar">

    <div class="briefing-widget">
      <div class="briefing-head">Morning Briefing â€” AI Generated</div>
      <textarea class="briefing-body" id="briefing-output" style="width:100%; min-height:120px; background:transparent; border:none; color:rgba(245,242,235,0.75); font-family:'Crimson Pro',serif; font-size:14px; line-height:1.7; resize:vertical; outline:none;" placeholder="Generates a daily briefing based on the top stories..."></textarea>
      <div class="briefing-actions">
        <button class="btn-briefing" id="gen-btn" onclick="generateDailyBrief()">âš¡ Generate</button>
        <button class="btn-email" id="email-brief-btn" onclick="emailBrief()">âœ‰ Email</button>
      </div>
    </div>

    <div class="sidebar-widget">
      <div class="widget-head">
        <span>Sector Distribution</span>
        <span id="total-articles" style="color:var(--ink)">0</span>
      </div>
      <div id="sector-stats"></div>
    </div>

    <div class="sidebar-widget">
      <div class="widget-head">Data Sources</div>
      <div id="sources-widget"></div>
    </div>

  </aside>
</div>

<div class="modal-overlay" id="email-modal" onclick="closeModalOutside(event)">
  <div class="modal">
    <button class="modal-close" onclick="closeEmailModal()">âœ• Close</button>
    <div class="modal-kicker">Daily Briefing Delivery</div>
    <div class="modal-title">Subscribe to <em>ALTÂ·Intel</em></div>
    <p style="font-family:'Crimson Pro',serif;font-size:15px;color:var(--ink-mid);line-height:1.65;margin-bottom:16px;">Receive a personalized AI-generated briefing on private markets news every morning at 7:00 AM.</p>
    <div class="modal-divider"></div>

    <div id="email-preview-section">
      <div class="email-preview">
        <div class="email-from">From: <a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="90f2e2f9f5f6f9fef7d0f1fce4bdf9fee4f5fcbef3fffd">[email&#160;protected]</a> Â· To: you</div>
        <div class="email-subject" id="email-subject-preview">ALTÂ·Intel Morning Briefing</div>
        <div class="email-body-preview" id="email-body-preview">
          <em style="color:var(--ink-dim);font-size:13px;">Generate a briefing first to preview your email content...</em>
        </div>
      </div>

      <div class="modal-form">
        <input class="modal-input" type="email" id="email-input" placeholder="your@email.com" />
        <button class="btn-primary" id="subscribe-btn" onclick="subscribe()">Subscribe</button>
      </div>
      <div class="modal-time">ðŸ“… Delivered daily at 07:00 AM Â· Unsubscribe anytime</div>
    </div>

    <div class="success-msg" id="success-msg">
      <h3>You're subscribed.</h3>
      <p>Your first briefing will arrive tomorrow morning at 7:00 AM.</p>
    </div>
  </div>
</div>

<script>
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
// DATA
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
const RSS_FEEDS = [
  // â”€â”€ Paywall â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  { url: "https://www.privateequitywire.co.uk/feed/",                                  source: "PE Wire",        sector: "PE",     paywall: true  },
  { url: "https://www.infrastructureinvestor.com/feed/",                               source: "Infra Investor", sector: "Infra",  paywall: true  },
  { url: "https://www.perenews.com/feed/",                                             source: "PERE News",      sector: "RE",     paywall: true  },
  { url: "https://www.buyoutsinsider.com/feed/",                                       source: "Buyouts Insider",sector: "PE",     paywall: true  },
  { url: "https://feeds.content.dowjones.io/public/rss/WSJcomUSBusiness",             source: "WSJ Business",   sector: "PE",     paywall: true  },
  { url: "https://www.ft.com/stream/ab70c42c-4d60-4851-89bb-16e2daeddfc1?format=rss", source: "FT Private Equity", sector: "PE",  paywall: true  },
  { url: "https://www.fnlondon.com/rss",                                               source: "FN London",      sector: "Hedge",  paywall: true  },

  // â”€â”€ Free / Soft Paywall â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  { url: "https://feeds.reuters.com/reuters/businessNews",                             source: "Reuters",        sector: "Macro",  paywall: false },
  { url: "https://www.cnbc.com/id/10001147/device/rss/rss.html",                      source: "CNBC",           sector: "Macro",  paywall: false },
  { url: "https://altassets.net/feed",                                                 source: "AltAssets",      sector: "PE",     paywall: false },
  { url: "https://pitchbook.com/blog/rss.xml",                                         source: "PitchBook",      sector: "PE",     paywall: false },
  { url: "https://corpgov.law.harvard.edu/feed/",                                      source: "Harvard Law",    sector: "PE",     paywall: false },
  { url: "https://opalesque.com/rss.xml",                                              source: "Opalesque",      sector: "Hedge",  paywall: false },
  { url: "https://businesswire.com/rss/home/rss_homepage.rss",                        source: "Business Wire",  sector: "PE",     paywall: false },
  { url: "https://www.theguardian.com/business/privateequity/rss",                    source: "The Guardian PE",sector: "PE",     paywall: false },
];

const PROXY_URL = "https://api.rss2json.com/v1/api.json?rss_url=";
const MAX_DAYS = 30;
const QUALITY_THRESHOLD_LIVE = 60;
const LIVE_MAX_ITEMS = 12;
const DAILY_BRIEF_MAX_ITEMS = 8;

const HIGH_SIGNAL_RE = /(first close|final close|hard cap|fundraise|raised|closing|close[d]? on|take-?private|lbo|acquir|sale|divest|ipo|continuation|gp-led|secondaries|nav (loan|facility)|subscription line|refinanc|redemption|gate|liquidity|distress|default|restructur|leverage|unitranche|direct lending|private credit|aum|ir{2}|tvpi|dpi|valuation|multiple)/i;
const LOW_SIGNAL_RE  = /(podcast|sponsored|advertis|webinar|catch up|opinion|substack|newsletter only)/i;
const TIER1 = ['Financial Times','FT','Reuters','Bloomberg','PEI','Private Equity International','Secondaries Investor','Infra Investor','PE Wire'];
const TIER2 = ['Institutional Investor','Unquote','AltAssets','WSJ','Wall Street Journal','The Economist','Fortune'];

function classifyTheme(a) {
  const t = ((a.title||'') + ' ' + (a.body||'')).toLowerCase();
  if (/(redemption|gate|liquidity|default|distress|restructur)/i.test(t)) return 'Liquidity / Stress';
  if (/(fundraise|first close|final close|hard cap|close[d]? on|raised)/i.test(t)) return 'Fundraising';
  if (/(nav (loan|facility)|subscription line|direct lending|private credit|unitranche|leveraged loan)/i.test(t)) return 'Credit / Financing';
  if (/(take-?private|lbo|acquir|sale|divest|ipo|merger|m&a)/i.test(t)) return 'Transactions';
  if (/(gp stakes|stake sale|minority stake|gp-led|continuation|secondaries)/i.test(t)) return 'Secondaries / GP Stakes';
  if (/(ai|artificial intelligence|data center|datacenter)/i.test(t)) return 'AI Impact';
  return 'Market';
}

function qualityScore(a) {
  const text = ((a.title||'') + ' ' + (a.body||'')).toLowerCase();
  let score = 10;
  if (TIER1.some(x => a.source.includes(x))) score += 30;
  else if (TIER2.some(x => a.source.includes(x))) score += 20;
  else score += 12;

  if (HIGH_SIGNAL_RE.test(text)) score += 30;
  if (LOW_SIGNAL_RE.test(text)) score -= 20;
  if (a.sector === 'PE' || a.sector === 'Credit') score += 5;
  if (a.time.includes('h ago') || a.time.includes('just now')) score += 8;

  return Math.max(0, Math.min(100, score));
}

function timeAgo(dateStr) {
  if (!dateStr) return 'recently';
  const t = new Date(dateStr.replace(/-/g, '/')).getTime(); // fix for safari sometimes
  if (isNaN(t)) return 'recently';
  const diff = Date.now() - t;
  const h = Math.floor(diff / 3600000);
  if (h < 1) return 'just now';
  if (h < 24) return `${h}h ago`;
  return `${Math.floor(h/24)}d ago`;
}

function guessSector(title, body, defaultSector) {
  const t = ((title||'') + ' ' + (body||'')).toLowerCase();
  if (/(private credit|direct lending|unitranche)/i.test(t)) return 'Credit';
  if (/(infrastructure|renewables|energy transition|data center)/i.test(t)) return 'Infra';
  if (/(real estate|property|reit|multifamily|logistics)/i.test(t)) return 'RE';
  if (/(hedge fund|long\/short|macro strategy)/i.test(t)) return 'Hedge';
  return defaultSector;
}

let currentFilter = 'all';
let articles = [];
let nextId = 1;
let autoTimer = null;

document.addEventListener('DOMContentLoaded', async () => {
  const d = new Date();
  document.getElementById('current-date').textContent =
    d.toLocaleDateString('en-US', { weekday:'long', year:'numeric', month:'long', day:'numeric' });
  document.getElementById('email-subject-preview').textContent =
    `ALTÂ·Intel Morning Briefing â€” ${d.toLocaleDateString('en-US', { weekday:'short', month:'short', day:'numeric' })}`;

  await loadArticles();
  
  // Auto refresh every 5 min
  autoTimer = setInterval(loadArticles, 5 * 60 * 1000);
});

async function fetchFeed(feed) {
  // Uses rss2json to bypass CORS on GitHub Pages
  try {
    const res = await fetch(PROXY_URL + encodeURIComponent(feed.url));
    const data = await res.json();
    
    if (data.status !== 'ok') {
      console.warn('Feed failed:', feed.source);
      return [];
    }

    return data.items.map(item => {
      const title = item.title;
      const body = item.description.replace(/<[^>]*>/g, ' ').substring(0, 300); // strip tags
      const sec = guessSector(title, body, feed.sector);
      const q = { 
        title, body, sector: sec, source: feed.source, time: item.pubDate 
      };

      return {
        id: nextId++,
        title: title,
        body: body,
        url: item.link,
        source: feed.source,
        sector: sec,
        paywall: feed.paywall,
        time: timeAgo(item.pubDate),
        _ts: new Date(item.pubDate).getTime(),
        rel: 70, // placeholder
        qscore: qualityScore(q),
        theme: classifyTheme(q)
      };
    });
  } catch (e) {
    console.error('Network error:', feed.source);
    return [];
  }
}

async function loadArticles() {
  const ico = document.getElementById('refresh-ico');
  if(ico) ico.classList.add('spin');
  document.getElementById('feed-container').innerHTML =
    `<div style="padding:40px 0;text-align:center;font-family:'JetBrains Mono',monospace;color:var(--ink-dim)">Loading live feeds...</div>`;

  nextId = 1;
  const promises = RSS_FEEDS.map(fetchFeed);
  const results = await Promise.all(promises);
  let all = results.flat();

  // Deduplicate by URL
  const seen = new Set();
  all = all.filter(a => {
    const k = a.url;
    if(seen.has(k)) return false;
    seen.add(k);
    return true;
  });

  // Sort by date desc
  all.sort((a,b) => b._ts - a._ts);

  if (all.length === 0) {
    articles = getDemoArticles(); // Fallback if API limit reached
  } else {
    articles = all;
  }

  window._liveArticles = articles.filter(a => a.qscore > QUALITY_THRESHOLD_LIVE).slice(0, LIVE_MAX_ITEMS);
  
  renderHero();
  renderFeed();
  renderSidebar();
  
  if(ico) ico.classList.remove('spin');
}

function renderHero() {
  const top3 = articles.slice(0,3);
  const colors = { PE:'var(--pe-c)', Credit:'var(--credit-c)', Infra:'var(--infra-c)', RE:'var(--re-c)', Hedge:'var(--hedge-c)', Macro:'var(--macro-c)' };
  const hero = document.getElementById('hero-strip');
  if(!hero) return;
  
  hero.innerHTML = top3.map(a => `
    <a class="hero-story" href="${a.url}" target="_blank" style="text-decoration:none; color:inherit; display:block;">
      <div class="hero-kicker" style="color:${colors[a.sector] || 'var(--ink-mid)'}">${a.sector} Â· ${a.source}</div>
      <div class="hero-headline">${a.title}</div>
      <div class="hero-deck">${(a.body||'').substring(0,120)}â€¦</div>
    </a>
  `).join('');
}

function renderFeed() {
  const base = articles;
  const live = window._liveArticles || [];
  
  let list = [];
  if (currentFilter === 'live') {
      list = live;
  } else if (currentFilter === 'all') {
      list = base;
  } else {
      list = base.filter(a => a.sector === currentFilter);
  }

  document.getElementById('feed-count').textContent = `â€” ${list.length} articles`;

  if (!list.length) {
    document.getElementById('feed-container').innerHTML = `<div style="padding:40px 0; text-align:center; font-family:'JetBrains Mono',monospace;">No articles found.</div>`;
    return;
  }

  document.getElementById('feed-container').innerHTML = list.map((a, i) => {
    // Generate simple alt take text
    const take = `ALT TAKE: ${a.sector} deal flow remains active.`;
    return `
    <a class="article" style="animation-delay:${i * 0.05}s; text-decoration:none; color:inherit;" href="${a.url}" target="_blank">
      <div class="article-left">
        <div class="article-kicker">
          <span class="sector-pill ${a.sector}">${a.sector}</span>
          <span class="article-source">${a.source}</span>
          <span class="article-time">${a.time}</span>
        </div>
        <div class="article-headline">${a.title}</div>
        <div class="article-body">${a.body.substring(0,180)}...</div>
        <div class="article-actions">
          ${a.paywall ? '<span class="read-more">ðŸ”’ Full Story</span>' : '<span class="read-more">Read Free â†’</span>'}
        </div>
      </div>
      <div class="article-right">
        <span class="big-number">${String(i+1).padStart(2,'0')}</span>
      </div>
    </a>
  `}).join('');
}

function renderSidebar() {
  const sectors = ['PE','Credit','Infra','RE','Hedge','Macro'];
  const c = { PE:'var(--pe-c)', Credit:'var(--credit-c)', Infra:'var(--infra-c)', RE:'var(--re-c)', Hedge:'var(--hedge-c)', Macro:'var(--macro-c)' };
  const counts = {};
  sectors.forEach(s => counts[s] = articles.filter(a => a.sector === s).length);
  const max = Math.max(...Object.values(counts), 1);
  document.getElementById('total-articles').textContent = articles.length;

  document.getElementById('sector-stats').innerHTML = sectors.map(s => `
    <div class="sector-stat">
      <span class="stat-name" style="color:${c[s]}">${s}</span>
      <div class="stat-bar"><div class="stat-fill" style="width:${(counts[s]/max)*100}%; background:${c[s]}"></div></div>
      <span class="stat-n">${counts[s]}</span>
    </div>
  `).join('');
  
  const srcs = {};
  articles.forEach(a => srcs[a.source] = (srcs[a.source]||0)+1);
  const topSrcs = Object.entries(srcs).sort((a,b)=>b[1]-a[1]).slice(0,8);
  
  document.getElementById('sources-widget').innerHTML = topSrcs.map(([name, n]) => `
    <div class="source-row">
      <span class="source-n">${n}</span>
      <span class="source-label">${name}</span>
      <span class="source-status-dot on"></span>
    </div>
  `).join('');
}

function filter(sec, btn) {
  currentFilter = sec;
  document.querySelectorAll('.nav-item').forEach(b => b.classList.remove('active'));
  if(btn) btn.classList.add('active');
  renderFeed();
}

function loadFeed() {
  loadArticles();
}

function getDemoArticles() {
  return [
    { id:1, sector:"PE", source:"PE Wire", title:"Permira Sells Evelyn Partners to NatWest for Â£2.7bn", body:"Permira agreed to sell UK wealth manager Evelyn Partners to NatWest Group for Â£2.7bn...", url:"#", time:"2h ago", rel:95, paywall:true },
    { id:2, sector:"Credit", source:"Bloomberg", title:"Apollo Posts 13% Rise in Q4 Profit", body:"Apollo Global Management posted a 13% rise in fourth-quarter profit...", url:"#", time:"4h ago", rel:91, paywall:true },
    { id:3, sector:"Infra", source:"Infra Investor", title:"Brookfield Closes $28B Infrastructure Fund V", body:"Brookfield Asset Management has closed its fifth flagship infrastructure fund...", url:"#", time:"5h ago", rel:88, paywall:true }
  ];
}

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
// Briefing Logic
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function generateDailyBrief() {
  const out = document.getElementById('briefing-output');
  const items = (window._liveArticles || articles).slice(0, DAILY_BRIEF_MAX_ITEMS);
  const dateStr = new Date().toLocaleDateString();
  
  let txt = `DAILY BRIEFING â€“ ${dateStr}\n\n`;
  items.forEach((a, i) => {
    txt += `${i+1}. ${a.title.toUpperCase()}\n   Source: ${a.source} (${a.time})\n   Link: ${a.url}\n\n`;
  });
  
  out.value = txt;
}

function emailBrief() {
  const body = document.getElementById('briefing-output').value;
  window.location.href = `mailto:?subject=Daily Briefing&body=${encodeURIComponent(body)}`;
}

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
// Modal
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function openEmailModal() { document.getElementById('email-modal').classList.add('open'); }
function closeEmailModal() { document.getElementById('email-modal').classList.remove('open'); }
function closeModalOutside(e) { if(e.target.id==='email-modal') closeEmailModal(); }
function subscribe() {
   document.getElementById('email-preview-section').style.display='none';
   document.getElementById('success-msg').classList.add('show');
}

</script>
</body>
</html>
